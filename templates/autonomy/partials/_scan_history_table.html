<div class="card overflow-hidden">
  <table class="w-full text-sm">
    <thead>
      <tr class="border-b" style="border-color:var(--border)">
        <th class="text-left px-3 py-2">Start</th>
        <th class="text-left px-3 py-2">Ende</th>
        <th class="text-left px-3 py-2">Status</th>
        <th class="text-left px-3 py-2">Scanned</th>
        <th class="text-left px-3 py-2">Ingested</th>
        <th class="text-left px-3 py-2">Dedup</th>
        <th class="text-left px-3 py-2">Exclude</th>
        <th class="text-left px-3 py-2">Failed</th>
      </tr>
    </thead>
    <tbody>
      {% for row in data.scan_history %}
      <tr class="border-b" style="border-color:var(--border)">
        <td class="px-3 py-2">{{ row.started_at }}</td>
        <td class="px-3 py-2">{{ row.finished_at or '-' }}</td>
        <td class="px-3 py-2">{{ row.status }}</td>
        <td class="px-3 py-2">{{ row.files_scanned }}</td>
        <td class="px-3 py-2">{{ row.files_ingested }}</td>
        <td class="px-3 py-2">{{ row.files_skipped_dedup }}</td>
        <td class="px-3 py-2">{{ row.files_skipped_exclude }}</td>
        <td class="px-3 py-2">{{ row.files_failed }}</td>
      </tr>
      {% else %}
      <tr><td class="px-3 py-3 muted" colspan="8">Keine Scan-Historie vorhanden.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
