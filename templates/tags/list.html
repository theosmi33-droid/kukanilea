<div class="space-y-4">
  {% if read_only %}
  <div class="rounded-xl border px-3 py-2 text-sm" style="border-color:#f59e0b;background:#fffbeb;color:#92400e;">
    Read-only mode: Tag-Änderungen sind deaktiviert.
  </div>
  {% endif %}

  <div class="flex items-center justify-between gap-2">
    <h1 class="text-xl font-bold">Globale Tags</h1>
    <a class="btn-outline rounded-xl px-3 py-2 text-sm" href="/knowledge">Zur Knowledge-Suche</a>
  </div>

  <div id="tagErrors"></div>

  <div class="card p-4">
    <h2 class="font-semibold mb-2">Neuen Tag erstellen</h2>
    {% include "tags/partials/_tag_form.html" %}
  </div>

  <div class="card overflow-hidden">
    <table class="w-full text-sm">
      <thead>
        <tr class="border-b" style="border-color:var(--border)">
          <th class="text-left px-3 py-2">Name</th>
          <th class="text-left px-3 py-2">Farbe</th>
          <th class="text-left px-3 py-2">Nutzung</th>
          <th class="text-left px-3 py-2">Aktionen</th>
        </tr>
      </thead>
      <tbody>
        {% for tag in tags %}
          {% include "tags/partials/_tag_row.html" %}
        {% else %}
        <tr><td class="px-3 py-3 muted" colspan="4">Keine Tags vorhanden.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="flex items-center justify-between text-xs muted">
    <span>Seite {{ page }}</span>
    <div class="flex gap-2">
      {% if page > 1 %}
      <a class="btn-outline px-2 py-1" href="/tags?page={{ page - 1 }}&page_size={{ page_size }}">Zurück</a>
      {% endif %}
      {% if has_more %}
      <a class="btn-outline px-2 py-1" href="/tags?page={{ page + 1 }}&page_size={{ page_size }}">Weiter</a>
      {% endif %}
    </div>
  </div>
</div>
