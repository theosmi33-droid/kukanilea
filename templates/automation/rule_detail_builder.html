<div class="space-y-4">
  <div class="flex flex-wrap items-center justify-between gap-2">
    <div>
      <h1 class="text-xl font-semibold">{{ rule.name }}</h1>
      <p class="text-sm opacity-80">{{ rule.description }}</p>
    </div>
    <div class="flex items-center gap-2">
      <a class="btn-outline px-3 py-2 text-sm" href="/automation/{{ rule.id }}/logs">Logs</a>
      <a class="btn-outline px-3 py-2 text-sm" href="/automation">Zur√ºck</a>
    </div>
  </div>

  <div class="card p-4 text-sm">
    <div class="grid gap-2 md:grid-cols-4">
      <div><span class="opacity-70">Rule ID:</span> <code>{{ rule.id }}</code></div>
      <div><span class="opacity-70">Enabled:</span> {{ "yes" if rule.is_enabled else "no" }}</div>
      <div><span class="opacity-70">Version:</span> {{ rule.version }}</div>
      <div><span class="opacity-70">Updated:</span> {{ rule.updated_at }}</div>
    </div>
    <form method="post" action="/automation/{{ rule.id }}/toggle" class="mt-3">
      <input type="hidden" name="enabled" value="{{ 0 if rule.is_enabled else 1 }}">
      <button class="btn-primary px-3 py-2 text-sm" type="submit" {% if read_only %}disabled{% endif %}>
        {{ "Disable Rule" if rule.is_enabled else "Enable Rule" }}
      </button>
    </form>
  </div>

  <div class="grid gap-4 md:grid-cols-3">
    <div class="card p-4">
      <h2 class="font-semibold mb-2">Triggers</h2>
      <pre class="text-xs whitespace-pre-wrap">{{ rule.triggers | tojson(indent=2) }}</pre>
    </div>
    <div class="card p-4">
      <h2 class="font-semibold mb-2">Conditions</h2>
      <pre class="text-xs whitespace-pre-wrap">{{ rule.conditions | tojson(indent=2) }}</pre>
    </div>
    <div class="card p-4">
      <h2 class="font-semibold mb-2">Actions</h2>
      <pre class="text-xs whitespace-pre-wrap">{{ rule.actions | tojson(indent=2) }}</pre>
    </div>
  </div>
</div>
