{% from 'components/button.html' import button_link, button_submit %}

<div class="space-y-4">
  <div class="flex items-center justify-between">
    <h1 class="text-xl font-semibold">CRM Â· Angebote</h1>
    {{ button_link('Deals', '/crm/deals', kind='outline') }}
  </div>

  <div class="card p-4">
    <form hx-get="/crm/_quotes_table" hx-target="#quotesTable" hx-swap="outerHTML" class="grid gap-2 md:grid-cols-4">
      <input class="input px-3 py-2 text-sm" type="text" name="q" value="{{ q }}" placeholder="Suche Quote/Kunde">
      <select class="input px-3 py-2 text-sm" name="status">
        <option value="">Alle Status</option>
        {% for st in ['draft','sent','accepted','rejected','void'] %}
        <option value="{{ st }}" {% if status==st %}selected{% endif %}>{{ st }}</option>
        {% endfor %}
      </select>
      <input type="hidden" name="page" value="{{ page }}">
      <input type="hidden" name="page_size" value="{{ page_size }}">
      {{ button_submit('Filtern', kind='outline') }}
    </form>
  </div>

  {% include 'crm/partials/quotes_table.html' %}
</div>
